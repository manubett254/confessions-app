{% extends 'base.html' %}

{% block content %}
  <section>
    <h1 class="text-center mb-4">📊 Admin Dashboard</h1>
    
    <div class="grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
      <!-- Users Card -->
      <div class="card">
        <h2>👥 Users ({{ users | length }})</h2>
        <ul>
          {% for user in users %}
            <li class="mb-2">
              <strong>{{ user.username }}</strong>
              <small class="text-secondary">(ID: {{ user.id }})</small>
            </li>
          {% endfor %}
        </ul>
      </div>
      
      <!-- Confessions Card -->
      <div class="card">
        <h2>🗒️ Confessions ({{ confessions | length }})</h2>
        <ul>
          {% for confession in confessions %}
            <li class="mb-2">
              <p>{{ confession.content | truncate(50) }}</p>
              <small class="text-secondary">
                {{ confession.timestamp.strftime('%b %d') }} • User {{ confession.user_id }}
              </small>
            </li>
          {% endfor %}
        </ul>
      </div>
      
      <!-- Comments Card -->
      <div class="card">
        <h2>💬 Comments ({{ comments | length }})</h2>
        <ul>
          {% for comment in comments %}
            <li class="mb-2">
              <p>{{ comment.content | truncate(30) }}</p>
              <small class="text-secondary">
                Confession {{ comment.confession_id }} • User {{ comment.user_id }}
              </small>
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>
    
    <div class="text-center mt-4">
      <a href="{{ url_for('index') }}" class="btn btn-secondary">Back to Home</a>
    </div>
  </section>
{% endblock %}